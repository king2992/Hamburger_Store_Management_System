<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="user">
	<!-- 로그인 -->
	<select id="userLogin" resultType="User">
		SELECT * FROM  user WHERE user_id=#{userId} and user_password=#{userPassword}
	</select>
	
	<select id="ajaxLogin" parameterType="HashMap">
		SELECT * FROM  user WHERE user_id=#{userId} and user_password=#{userPassword}
	</select>
	<!-- 회원가입 -->
	<insert id="signUp" parameterType="User">
		INSERT INTO user (user_id, user_password, user_phone, user_name)
		values(#{userId}, #{userPassword}, #{userPhone}, #{userName})
	</insert>
	<!-- 아이디 중복 체크 -->
	<select id="idCk" resultType="Integer">
		SELECT count(*) FROM user
		WHERE user_id=#{userId}
	</select>
	<select id="personalInfomationChange" resultType="User">
		select * from user where user_id = #{userId}
	</select>
	<select id="nowPwCheck" parameterType="map" resultType="User">
		select * from user where user_id = #{userId} and user_password = #{userPassword}
	</select>
	<update id="userPwUpdate" parameterType="map">
		update user	set user_password = #{userPassword} where user_id =#{userId}
	</update>
	<update id="userInfoUpdate" parameterType="map">
		update user set user_phone = #{userPhone} , user_name = #{userName} where user_id = #{userId}
	</update>
</mapper>